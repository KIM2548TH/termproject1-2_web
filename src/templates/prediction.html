{% extends "base.html" %}

{% block content %}
<div class="sidebar">
    <h2>Air Quality Monitor</h2>
    <h3 id="location-name">Bangkok</h3>

    <div class="grid-container">
        <div class="info-box">
            <p>ğŸŒ« <strong>PM2.5</strong></p>
            <p class="value"><span id="pm25">45</span> Âµg/mÂ³</p>
        </div>
        <div class="info-box">
            <p>ğŸŒ« <strong>PM10</strong></p>
            <p class="value"><span id="pm10">75</span> Âµg/mÂ³</p>
        </div>
        <div class="info-box">
            <p>ğŸŒ¡ <strong>Temperature</strong></p>
            <p class="value"><span id="temperature">32</span>Â°C</p>
        </div>
        <div class="info-box">
            <p>ğŸ’§ <strong>Humidity</strong></p>
            <p class="value"><span id="humidity">65</span>%</p>
        </div>
    </div>

    <h3>Forecast Model</h3>
    <select id="forecast-model">
        <option value="SARIMAX">SARIMAX</option>
    </select>

    <div class="forecast-chart">
        <iframe src="/dash/" width="100%" height="200px" style="border:none;"></iframe>
    </div>
</div>

<style>
    .grid-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr); /* 2 à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ */
        gap: 10px;
    }
    .info-box {
        background: #f9f9f9;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
    }
    .value {
        font-size: 20px;
        font-weight: bold;
    }
</style>

<script>
    function updateAirQuality(data) {
        document.getElementById('location-name').textContent = data.location || "Unknown";
        document.getElementById('pm25').textContent = data.pm25 || "N/A";
        document.getElementById('pm10').textContent = data.pm10 || "N/A";
        document.getElementById('temperature').textContent = data.temperature || "N/A";
        document.getElementById('humidity').textContent = data.humidity || "N/A";
    }

    // à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ à¸ªà¸²à¸¡à¸²à¸£à¸–à¹à¸—à¸™à¸—à¸µà¹ˆà¸”à¹‰à¸§à¸¢ API à¸ˆà¸£à¸´à¸‡
    updateAirQuality({
        location: "Bangkok",
        pm25: 45,
        pm10: 75,
        temperature: 32,
        humidity: 65
    });
</script>
{% endblock %}